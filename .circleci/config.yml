version: 2
jobs: 
  build:
    docker:
      - image: circleci/android:api-28
    working_directory: ~/SimpleWarikan
    environment:
    # Customize the JVM maximum heap limit
      JVM_OPTS: -Xmx3200m
      TERM: dumb
      
    steps:
      - checkout

      - run:
          name: Download dependencies
          command: ./gradlew androidDependencies
      - run:
          name: build app
          command: ./gradlew assembleDebug
      - run:
          name: lint checks
          command: ./gradlew lintDebug
      - run:
          name: Unit Test
          command: ./gradlew testDebugUnitTest
